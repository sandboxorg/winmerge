<sect1 id="Filters">
  <title>Filters</title>
  <para>There are two kinds of filters in WinMerge: file filters for filtering files and directories in directory compare and line filters for ignoring lines from files before comparing.</para>
  <sect2>
    <title>File filters</title>
    <para>File filter is set of regular expression (regexp) rules saved to one file. Every file and directory is tested against all there rules before comparing. Depending if filter is exclusive of inclusive file or directory matching is excluded from or included to compare.</para>
    <tip>
      <para>Ignored items have 'Skipped' status in directory compare. User can select them to visible or hidden from 'View' menu. Usually its wise to keep skipped items hidden.</para>
    </tip>
    <para>WinMerge's filtering system allows only one filter set to be active at a time. Active filter set can be selected from Open-dialog or from menu: Tools --&gt; Filters. Also empty filter can be selected when no directories or files are ignored.</para>
    <sect3>
      <title>Filter files</title>
      <para>Filter files are normal ASCII files, with .flt extension. Filter files must be placed to either: </para>
      <itemizedlist>
        <listitem>
          <para>'Filters' subdirectory in WinMerge program directory. This is recommended place.</para>
        </listitem>
        <listitem>
          <para>'Winmerge/Filters' subdirectory in user profile. This can be used for user personal filter when there are many users. Or if backupping from profile directoruy easier etc.</para>
        </listitem>
      </itemizedlist>
      <para>Filter files supplied with WinMerge contain comments about naming and setting filter to exclusive/inclusive.</para>
      <para>Common format for one filter line is like this:</para>
      <screen>f: \.ext$ ## Match files *.ext
d: \\directory$ ## Match given directoryname</screen>
      <warning>
        <para>'$' at end is important! It marks end of filename and without it rule doesn't work like expected.</para>
      </warning>
      <para>Rules can be a lot more complex than those two: this rule matches to CVS generated ".#filename.ext.version" files:</para>
      <example>
        <title>More complex file filter rule</title>
        <screen format="linespecific">f: \.#.*$ ## .#filename.version files</screen>
      </example>
    </sect3>
  </sect2>
  <sect2>
    <title>Line filters</title>
    <para>Line filters can be used to ignore single lines from compared files. Line filters are handy when user doesn't want to compare comments or certain generated code. For example version control system (time)stamps.</para>
    <important>
      <para>Line filter rule ignores single line it matches. It is not possible to ignore partial lines or several lines with file filter rule.</para>
    </important>
    <para>In file compare ignored lines are shown with own colors to differentiate them from other differences. User can see these differences but cannot select or merge them.</para>
    <para>Line filter rules are regular expressions like file filter rules. Rules can be added and edited in Filters-dialog (Menu: Tools --&gt; Filters). In editbox, give one rule per line.</para>
    <example>
      <title>Line filter rule matching CVS "Id:" -lines:</title>
      <screen>\$Id$</screen>
    </example>
  </sect2>
</sect1>
