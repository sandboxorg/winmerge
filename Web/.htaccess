<IfModule mod_speling.c>
  CheckSpelling Off
</IfModule>

ErrorDocument 404 /404.php

<FilesMatch "\.inc$">
 Order Deny,Allow
 Deny from all
</FilesMatch>

#Use PHP5 instead of PHP4
AddType x-mapp-php5 .php

#Fix wrong wiki.winmerge.org frame redirect...
Redirect permanent /wiki http://winmerge.org/Wiki/

#Move "WinMerge 1.7 - User's Guide" to "Documentation" tab...
Redirect permanent /1.7/docs http://winmerge.org/docs/old/usersguide-1.7
Redirect permanent /WinMerge17/docs http://winmerge.org/docs/old/usersguide-1.7

#Move "WinMerge 2.0 - User's Guide" to "Documentation" tab...
Redirect permanent /2.0/docs http://winmerge.org/docs/old/usersguide-2.0
Redirect permanent /docs20 http://winmerge.org/docs/old/usersguide-2.0

#Move "WinMerge 2.2 - Manual" to "Documentation" tab...
Redirect permanent /2.2/manual http://winmerge.org/docs/old/manual-2.2

#Move history page to "About" tab...
Redirect permanent /history.php http://winmerge.org/about/history.php

#Centralize download pages...
Redirect permanent /downloads.php http://winmerge.org/downloads/
Redirect permanent /2.4/downloads.php http://winmerge.org/downloads/
Redirect permanent /2.2/downloads.php http://winmerge.org/downloads/

#Move developer pages to Wiki...
Redirect permanent /developer/index.php http://winmerge.org/Wiki/Developers
Redirect permanent /developer/needed.php http://winmerge.org/Wiki/Help_Needed
Redirect permanent /developer/tracker-shortcuts.php http://winmerge.org/support/tracker-shortcuts.php
Redirect permanent /developer/translate.php http://winmerge.org/Wiki/Translations
Redirect permanent /developer/l10n/index.php http://winmerge.org/Wiki/Translations
Redirect permanent /developer/l10n/instructions.php http://svn.sourceforge.net/viewvc/*checkout*/winmerge/trunk/Docs/Developers/Translations.html
Redirect permanent /developer/l10n/status.php http://winmerge.org/Wiki/Translations

#Move old changes pages to new changelog page...
Redirect permanent /1.7/changes.php http://winmerge.org/docs/changelog.php
Redirect permanent /2.0/changes.php http://winmerge.org/docs/changelog.php
Redirect permanent /2.2/changes.php http://winmerge.org/docs/changelog.php

#Move old screenshot pages to new screenshot page...
Redirect permanent /2.2/screenshots.php http://winmerge.org/about/screenshots/

#Move old "X.Y" version tabs to homepage...
RewriteEngine On
RewriteBase   /
RewriteRule   ^1.7/$ http://winmerge.org/ [R=permanent]
RewriteRule   ^1.7/index.php$ http://winmerge.org/ [R=permanent]
RewriteRule   ^2.0/$ http://winmerge.org/ [R=permanent]
RewriteRule   ^2.0/index.php$ http://winmerge.org/ [R=permanent]
RewriteRule   ^2.2/$ http://winmerge.org/ [R=permanent]
RewriteRule   ^2.2/index.php$ http://winmerge.org/ [R=permanent]

#Tracker shortcuts...
RewriteEngine On
RewriteBase   /
RewriteRule   ^bug/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^patch/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^support/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^rfe/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^todo/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^tracker/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]

#Nicer Wiki URLs...
RewriteEngine On
RewriteBase   /
RewriteCond   %{REQUEST_FILENAME} !-f
RewriteCond   %{REQUEST_FILENAME} !-d
RewriteRule   ^Wiki/(.*)$ /Wiki/index.php?title=$1 [PT,L,QSA]